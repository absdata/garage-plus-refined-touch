# Документация по сайту "Гараж Плюс"

## 1. Общая информация

### 1.1. Описание проекта
Веб-сайт "Гараж Плюс" представляет собой информационный ресурс автосервиса, специализирующегося на обслуживании автомобилей Mercedes-Benz. Сайт предоставляет информацию об услугах, акциях и контактах компании, а также форму для записи на сервис.

### 1.2. Технический стек
- **Фреймворк**: React с TypeScript
- **Сборка**: Vite
- **Стилизация**: TailwindCSS
- **UI компоненты**: Shadcn UI (базированный на Radix UI)
- **Маршрутизация**: React Router
- **Состояние**: React Context API
- **Запросы**: TanStack Query (React Query)

### 1.3. Структура проекта
```
/src
  /components          # Переиспользуемые компоненты React
    /layout            # Компоненты макета (Header, Footer)
    /sections          # Секции для страниц
    /ui                # Базовые UI компоненты
  /contexts            # React контексты
  /config              # Конфигурационные файлы
  /hooks               # Кастомные React хуки
  /lib                 # Утилиты и хелперы
  /pages               # Компоненты страниц
    /services          # Страницы услуг
  /styles              # Глобальные стили
  App.tsx              # Корневой компонент с маршрутизацией
  main.tsx             # Точка входа
/public                # Статические файлы
/docs                  # Документация
```

## 2. Основные модули

### 2.1. Компоненты (`/src/components/`)
Компоненты организованы в логические группы для лучшей поддерживаемости.

#### 2.1.1. Компоненты макета (`/src/components/layout/`)

**Header.tsx**
- **Назначение**: Шапка сайта с логотипом и навигацией
- **Ключевые функции**: 
  - Навигация между страницами
  - Скроллинг к секциям на странице
  - Адаптивное меню для мобильных устройств

**Footer.tsx**
- **Назначение**: Подвал сайта с контактами и ссылками
- **Ключевые функции**:
  - Отображение контактной информации
  - Навигация по разделам сайта
  - Отображение логотипов и правовой информации

**ServiceLayout.tsx**
- **Назначение**: Общий макет для всех страниц услуг
- **Ключевые функции**:
  - Обертывает страницы услуг в общую структуру
  - Включает Header и Footer
  - Обеспечивает единый стиль для всех страниц услуг

#### 2.1.2. Секции (`/src/components/sections/`)

**ContactSection.tsx**
- **Назначение**: Секция с формой обратной связи
- **Ключевые функции**:
  - Отображение формы контакта
  - Передача предварительно заполненных данных через контекст

**ServiceHero.tsx**
- **Назначение**: Верхняя часть страницы услуги
- **Ключевые функции**:
  - Отображение заголовка и краткого описания услуги
  - Вывод фонового изображения
  - Кнопка для скроллинга к форме записи

#### 2.1.3. UI компоненты (`/src/components/ui/`)

Библиотека базовых UI компонентов Shadcn, включающая:
- **button.tsx** - кнопки различных стилей
- **card.tsx** - карточки для контента
- **input.tsx** - поля ввода
- **textarea.tsx** - многострочные поля ввода
- **checkbox.tsx** - флажки
- **dialog.tsx** - модальные окна
- **carousel.tsx** - карусели для изображений и контента
- И другие компоненты для построения пользовательского интерфейса

#### 2.1.4. Прочие компоненты

**ContactForm.tsx**
- **Назначение**: Форма обратной связи для записи на сервис
- **Ключевые функции**:
  - Сбор данных пользователя (имя, телефон, комментарий)
  - Валидация введенных данных
  - Отправка данных (имитация API-запроса)
  - Показ сообщения об успешной отправке

**ServiceCard.tsx**
- **Назначение**: Карточка для отображения услуги
- **Ключевые функции**:
  - Отображение изображения, названия и описания услуги
  - Переход на детальную страницу услуги

**TestimonialCard.tsx**
- **Назначение**: Карточка для отображения отзыва
- **Ключевые функции**:
  - Показ данных о клиенте (имя, автомобиль)
  - Отображение текста отзыва
  - Вывод рейтинга (если есть)

**PromotionCarousel.tsx**
- **Назначение**: Карусель для отображения акций
- **Ключевые функции**:
  - Автоматическая прокрутка акций
  - Управление навигацией (вперед/назад)
  - Кнопки перехода к деталям акций

**LoadingScreen.tsx**
- **Назначение**: Экран загрузки
- **Ключевые функции**:
  - Отображение анимации загрузки
  - Заполнитель на время загрузки контента

**ScrollToTop.tsx**
- **Назначение**: Компонент для возврата в начало страницы при навигации
- **Ключевые функции**:
  - Автоматический скроллинг вверх при переходе на новую страницу

### 2.2. Страницы (`/src/pages/`)

**Index.tsx**
- **Назначение**: Главная страница сайта
- **Основные секции**:
  - Hero секция с приветствием
  - Блок с услугами (категории)
  - Карусель акций
  - Отзывы клиентов
  - Контактная форма

**About.tsx**
- **Назначение**: Страница "О нас"
- **Основные секции**:
  - Информация о компании
  - История
  - Преимущества
  - Команда

**NotFound.tsx**
- **Назначение**: Страница 404 (не найдено)
- **Функции**: 
  - Отображение сообщения об ошибке
  - Ссылки для возврата на главную

#### 2.2.1. Страницы услуг (`/src/pages/services/`)

**Maintenance.tsx**
- **Назначение**: Страница категории "Техобслуживание и ремонт"
- **Содержимое**:
  - Список доступных услуг в данной категории
  - Общая информация о техобслуживании

**Transmission.tsx**
- **Назначение**: Страница категории "Обслуживание АКПП"
- **Содержимое**:
  - Список услуг по ремонту и обслуживанию АКПП
  - Описание преимуществ сервиса

**Engine.tsx**
- **Назначение**: Страница категории "Обслуживание двигателя"
- **Содержимое**:
  - Список услуг по ремонту двигателей
  - Описание технологий

**Tuning.tsx**
- **Назначение**: Страница категории "Тюнинг"
- **Содержимое**:
  - Список услуг по модификации автомобилей
  - Портфолио выполненных работ

**ServiceDetail.tsx**
- **Назначение**: Шаблон для страниц конкретных услуг
- **Функционал**:
  - Отображение детальной информации об услуге
  - Цены и сроки выполнения
  - Контактная форма для записи

### 2.3. Контексты (`/src/contexts/`)

**ContactFormContext.tsx**
- **Назначение**: Контекст для управления данными формы обратной связи
- **Основные функции**:
  - Хранение и обновление комментария формы
  - Предзаполнение с типом услуги при переходе со страницы услуги
- **Использование**: Компонентом ContactForm для получения предзаполненных данных

### 2.4. Хуки (`/src/hooks/`)

**use-mobile.tsx**
- **Назначение**: Хук для определения типа устройства (мобильное/десктоп)
- **Функционал**:
  - Проверка ширины экрана
  - Возврат булевого значения для адаптации интерфейса
- **Использование**: В компонентах для отображения адаптивного интерфейса

**use-toast.ts**
- **Назначение**: Хук для работы с уведомлениями
- **Функционал**:
  - Показ всплывающих уведомлений
  - Настройка типа (успех/ошибка) и текста уведомления
- **Использование**: В форме ContactForm для уведомлений об отправке

### 2.5. Утилиты (`/src/lib/`)

**utils.ts**
- **Назначение**: Вспомогательные функции
- **Основные функции**:
  - `cn` - утилита для объединения классов Tailwind
- **Использование**: Во всех компонентах для управления классами стилей

### 2.6. Конфигурация (`/src/config/`)

**theme.ts**
- **Назначение**: Определение темы оформления сайта
- **Содержимое**:
  - Цветовая палитра
  - Градиенты
  - Тени
  - Размеры и другие CSS-переменные
- **Использование**: В компонентах для поддержания единого стиля

## 3. Маршрутизация и навигация

### 3.1. Структура маршрутов
Маршруты определены в компоненте App.tsx с использованием React Router:
- `/` - главная страница
- `/about` - о компании
- `/services/maintenance` - техобслуживание
- `/services/transmission` - обслуживание АКПП
- `/services/engine` - ремонт двигателя
- `/services/tuning` - тюнинг
- `/services/maintenance/[service-id]` - детальные страницы услуг
- `*` - страница 404

### 3.2. Типы навигации
В приложении используются два типа навигации:
1. **Между страницами** - с использованием `<Link>` из React Router
2. **Скроллинг к секциям** - с использованием JavaScript для плавной прокрутки

## 4. Стилизация и темизация

### 4.1. Подход к стилизации
- Основной инструмент - **TailwindCSS**
- Для динамических классов используется утилита `cn`
- Для сложных случаев - встроенные стили с темой

### 4.2. Тема оформления
Тема определена в файле `/src/config/theme.ts` и содержит:
- Основные цвета:
  - Белый фон (#ffffff)
  - Светло-бежевый фон (#e6dfd6)
  - Синий акцент (#00AEEF)
- Градиенты для фонов секций
- Настройки теней и бордеров

## 5. Обработка данных

### 5.1. Формы
Форма контакта реализована в компоненте ContactForm.tsx:
- Использует локальное состояние React для хранения данных формы
- Выполняет валидацию полей ввода
- Имитирует отправку данных (без реального API)
- Отображает уведомление об успешной отправке

### 5.2. Подготовка к API
Проект подготовлен к интеграции с API:
- Настроен QueryClient для React Query
- Установлены необходимые зависимости
- Структура позволяет легко заменить мокированные данные на реальные API-вызовы

## 6. Оптимизация производительности

### 6.1. Текущие оптимизации
- Использование функциональных компонентов и хуков React
- Минимизация зависимостей между компонентами
- Подготовка к ленивой загрузке компонентов

### 6.2. Рекомендации по дальнейшей оптимизации
- Добавить ленивую загрузку для тяжелых компонентов
- Оптимизировать изображения (сжатие, WebP)
- Добавить мемоизацию для компонентов с тяжелыми вычислениями

## 7. Безопасность

### 7.1. Текущие меры безопасности
- Валидация входных данных на стороне клиента
- Защита от XSS через экранирование в React

### 7.2. Рекомендации по улучшению
- Добавить CSRF-защиту при подключении реального API
- Реализовать серверную валидацию
- Настроить заголовки безопасности

## 8. Рекомендации по дальнейшему развитию

### 8.1. Функциональные улучшения
- Добавление онлайн-записи на сервис с выбором даты и времени
- Интеграция с системой онлайн-оплаты
- Личный кабинет клиента с историей обслуживания

### 8.2. Технические улучшения
- Серверный рендеринг (SSR) для улучшения SEO
- Внедрение системы управления контентом
- Добавление аналитики посещений
- Интеграция с CRM-системой сервиса

## 9. Заключение

Сайт "Гараж Плюс" представляет собой современное React-приложение с чистой архитектурой и удобной структурой. Проект использует современные технологии веб-разработки и следует лучшим практикам.

Для поддержки и развития проекта рекомендуется обращаться к файлу руководства по поддержке `maintenance-guide-ru.md`.